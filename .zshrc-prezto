## Locale
export LC_ALL=en_US.UTF-8

## Global ENV
declare -ga dotfiles=(".gemrc" ".vimrc" ".zpreztorc" Brewfile "com.googlecode.iterm2.plist")
declare -g DOTFILES_HOME="$HOME/dotfiles"

## Compinstall
zstyle :compinstall filename '/Users/cristian/.zshrc'
autoload -Uz compinit
compinit

## History
HISTFILE=~/.histfile
HISTSIZE=1000
SAVEHIST=10000
setopt beep
setopt inc_append_history
setopt share_history
autoload colors && colors

## Prezto init
if [[ -s "${ZDOTDIR:-$HOME}/.zprezto/init.zsh" ]]; then
  source "${ZDOTDIR:-$HOME}/.zprezto/init.zsh"
fi

## Theme powerlevel9k config
POWERLEVEL9K_LEFT_PROMPT_ELEMENTS=(user dir rbenv vcs)
POWERLEVEL9K_RIGHT_PROMPT_ELEMENTS=(status root_indicator load command_execution_time time)
POWERLEVEL9K_COMMAND_EXECUTION_TIME_THRESHOLD=0.5

## Editors
export EDITOR=vim
export VISUAL=code
export PAGER=less

## Rbenv configuration
export PATH="$HOME/.rbenv/bin:$PATH"
eval "$(rbenv init -)"

## Nodenv configuration
export PATH="$HOME/.nodenv/bin:$PATH"
eval "$(nodenv init -)"

## Jenv configuration
export PATH="$HOME/.jenv/bin:$PATH"
eval "$(jenv init -)"

## Java version
export JAVA_OPTIONS="-Xmx2048m"
export JAVA_OPTS="-Xmx2048m"

## Functions
# Dotfiles
function dotfiles_link () {
  for file in $dotfiles; do ln -s $DOTFILES_HOME/$file ~/$file; done
}
function dotfiles_unlink () {
  for file in $dotfiles
  do
    if [[ -f "$HOME/$file" ]]
    then
      unlink "$HOME/$file"
    fi
  done
}

## Aliases
# Utils
alias ll="ls -l -A"
# Postgres
alias postgres_config="docker create --name postgres -p 5432:5432 -v "/Users/$(whoami)/code/data:/var/lib/postgresql/data" -e POSTGRES_PASSWORD=password postgres:10.6"
alias postgres_start="docker start postgres"
# Git
alias gst="git status"
alias ga="git add"
alias glog="git log --oneline --decorate --graph"
# Bundle
alias bi="bundle install --jobs=4"
